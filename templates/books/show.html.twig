{% extends 'base.html.twig' %}

{% block title %}Books{% endblock %}

{% block body %}
    <h1>Books</h1>

    <table class="table">
        <tbody>
            <tr>
                <th>Id</th>
                <td>{{ book.id }}</td>
            </tr>
            <tr>
                <th>Title</th>
                <td>{{ book.title }}</td>
            </tr>
            <tr>
                <th>Description</th>
                <td>{{ book.description }}</td>
            </tr>
            <tr>
                <th>Author</th>
                <td>{{ book.author }}</td>
            </tr>
            <tr>
                <th>Couverture</th>
                <td>
                    {% for image in book.img %}
                     <img src="{{ asset( '/uploads/' ~ image.name) }}" alt="couverture du livre" >
                    {% endfor %}   
                </td>
            </tr>
            <tr>
                <th>IsAvailable</th>
                <td>{{ book.isAvailable ? 'Yes' : 'No' }}</td>
            </tr>
            <tr>
                <th>GetAt</th>
                <td>{{ book.getAt ? book.getAt|date('Y-m-d H:i:s') : '' }}</td>
            </tr>
            <tr>
                <th>GetBackAt</th>
                <td>{{ book.getBackAt ? book.getBackAt|date('Y-m-d H:i:s') : '' }}</td>
            </tr>
        </tbody>
    </table>
    <div class="container">
        <div class="row">
            <div class="d-flex justify-content-between">
                <a href="{{ path('books_index') }}"><button class="btn btn-success m-2">Retour</button></a> 
            {% if is_granted('ROLE_EMPLOYEE') %}
            <a href="{{ path('books_edit', {'id': book.id}) }}"><button class="btn btn-primary m-2">Modifier</button></a> 
            {{ include('books/_delete_form.html.twig', {'button_label': 'Supprimer'}) }}
            {% endif %}            
            </div>
        </div>
    </div>
    
{% endblock %}
